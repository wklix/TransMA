import torch

# 假设你的张量名为tensor
tensor = torch.tensor([[12, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 17,
         22, 19, 18, 19, 16, 16, 16, 16, 16, 16, 17, 23, 16, 20, 22, 16, 23, 23,
         22, 16, 20, 18, 16, 17, 22, 19, 18, 23, 16, 16, 16, 16, 16, 16, 16, 16,
         16, 16, 16, 16, 16, 16, 13,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
          0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
          0,  0,  0,  0,  0,  0,  0,  0,  0,  0],
        [12, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 23, 16, 17, 22, 19,
         18, 16, 17, 16, 16, 16, 16, 16, 19, 16, 17, 22, 19, 18, 16, 16, 16, 16,
         16, 16, 16, 16, 16, 16, 18, 23, 16, 16, 16, 23, 17, 16, 18, 16, 13,  0,
          0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
          0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
          0,  0,  0,  0,  0,  0,  0,  0,  0,  0],
        [12, 16, 16, 16, 16, 16, 16, 16, 16, 60, 16, 22, 16, 39, 16, 16, 16, 16,
         16, 16, 16, 16, 23, 16, 17, 22, 19, 18, 16, 17, 16, 16, 16, 16, 16, 19,
         16, 17, 22, 19, 18, 16, 16, 16, 16, 16, 16, 16, 60, 16, 22, 16, 39, 16,
         16, 16, 16, 16, 16, 16, 16, 18, 23, 16, 16, 23, 17, 16, 16, 18, 16, 16,
         13,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
          0,  0,  0,  0,  0,  0,  0,  0,  0,  0],
        [12, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 23,
         16, 17, 22, 19, 18, 16, 17, 16, 16, 16, 16, 16, 19, 16, 17, 22, 19, 18,
         60, 16, 22, 16, 60, 16, 16, 16, 16, 16, 16, 16, 18, 23, 23, 20, 16, 16,
         16, 16, 16, 20, 13,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
          0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
          0,  0,  0,  0,  0,  0,  0,  0,  0,  0]], device='cuda:0')

non_zero_indices = torch.nonzero(tensor)

# 计算每一行的非零元素数量
non_zero_counts = torch.tensor([torch.nonzero(row).size(0) for row in tensor])

print(non_zero_counts)  # 输出每一行的非零元素数量
last_non_zero_indices = []
j=0
for i in non_zero_counts:
    last_non_zero_index = tensor[j][i-1]
    j=j+1
    last_non_zero_indices.append(last_non_zero_index)

print(last_non_zero_indices)


a=[0,1,2,3]
print(a[0:2])
